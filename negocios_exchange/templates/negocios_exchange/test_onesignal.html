
<html>
<head>
  {% load static %}
  <link rel="manifest" href="https://negociosexchange.herokuapp.com/static/manifest.json">
  <script src="{% static 'OneSignalSDK.js' %}" async></script>
  <script>
    var OneSignal = window.OneSignal || [];
    OneSignal.push(["init", {
      appId: "8f93abac-19a6-4c5c-a5da-278e9982c7c2",
      autoRegister: false,    
      notifyButton: {
        enable: true /* Set to false to hide */
      }
    }]);
  </script>
</head> 
<body>
    <a href="#" id="subscribe-link" style="display: none;">Subscribe to Notifications</a>
  
    <script>
        function subscribe() {
            OneSignal.push(["registerForPushNotifications"]);
            event.preventDefault();
        }

        var OneSignal = OneSignal || [];
        /* This example assumes you've already initialized OneSignal */
        OneSignal.push(function() {
            // If we're on an unsupported browser, do nothing
            if (!OneSignal.isPushNotificationsSupported()) {
                return;
            }
            OneSignal.isPushNotificationsEnabled(function(isEnabled) {
                if (isEnabled) {
                    // The user is subscribed to notifications
                    // Don't show anything
                } else {
                    document.getElementById("subscribe-link").addEventListener('click', subscribe);
                    document.getElementById("subscribe-link").style.display = '';
                }
            });
        });
    </script>
</body>
</html>